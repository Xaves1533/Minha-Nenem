<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caderno de Campo - Desperdício de Alimentos</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
    }

    body {
      background: linear-gradient(to bottom right, #f1f8e9, #c8e6c9);
      color: #333;
      transition: background 0.3s, color 0.3s;
    }

    body.dark-mode {
      background: #1a1a1a;
      color: #e0e0e0;
    }

    header {
      background-color: #388e3c;
      color: white;
      padding: 40px 20px;
      text-align: center;
      border-bottom-left-radius: 40px;
      border-bottom-right-radius: 40px;
    }

    header h1 {
      font-size: 2.5em;
    }

    .container {
      max-width: 1000px;
      margin: 40px auto;
      padding: 20px;
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s;
    }

    body.dark-mode .container {
      background-color: #2c2c2c;
    }

    h2 {
      color: #2e7d32;
      margin-top: 30px;
      margin-bottom: 10px;
    }

    body.dark-mode h2 {
      color: #81c784;
    }

    p {
      margin-bottom: 15px;
    }

    .integrantes, .meta {
      background-color: #f1f8e9;
      padding: 10px 20px;
      border-left: 5px solid #66bb6a;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    body.dark-mode .integrantes, body.dark-mode .meta {
      background-color: #33691e;
      border-left-color: #81c784;
    }

    .graficos canvas {
      margin: 20px auto;
      display: block;
      max-width: 90%;
      background: #f9fbe7;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    body.dark-mode .graficos canvas {
      background: #424242;
    }

    footer {
      text-align: center;
      padding: 30px 20px;
      background-color: #2e7d32;
      color: white;
      margin-top: 40px;
    }

    .qrcode {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .qrcode img {
      width: 160px;
      height: 160px;
    }

    .img-desperdicio {
      width: 100%;
      border-radius: 12px;
      margin: 20px 0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #43a047;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <button class="toggle" onclick="toggleMode()">Modo Escuro/Claro</button>
  <header>
    <h1>Caderno de Campo - Feira de Ciências 2025</h1>
    <p>Desperdício de Alimentos na Escola</p>
  </header>

  <div class="container">
    <div class="meta">
      <p><strong>Escola:</strong> EEMTI Deputado Paulo Benevides</p>
      <p><strong>Grupo:</strong> Josias Chaves, Ariel Vitor, Gustavo Costa, Tiago, Claudemir</p>
    </div>

    <img src="https://images.unsplash.com/photo-1581093588401-79e84f3b54b8" alt="Imagem Desperdício de Alimentos" class="img-desperdicio">

    <h2>Introdução</h2>
    <p>O desperdício de alimentos é um problema recorrente em diversas instituições, inclusive nas escolas. Este trabalho busca investigar como esse desperdício ocorre no ambiente escolar, quais as causas principais, e propor soluções acessíveis para reduzi-lo.</p>

    <h2>Objetivo Geral</h2>
    <p>Investigar o desperdício de alimentos na escola e propor medidas conscientes de redução e educação alimentar entre os estudantes.</p>

    <h2>Objetivos Específicos</h2>
    <ul>
      <li>Compreender a opinião dos estudantes sobre o desperdício.</li>
      <li>Observar os motivos mais frequentes para a sobra ou descarte de alimentos.</li>
      <li>Propor soluções baseadas nas respostas coletadas.</li>
    </ul>

    <h2>Metodologia</h2>
    <p>Foi aplicado um formulário online aos alunos da escola com perguntas objetivas sobre seus hábitos alimentares e percepção do desperdício. Os dados foram convertidos em gráficos para facilitar a visualização dos resultados.</p>

    <h2>Resultados</h2>
    <div class="graficos">
      <canvas id="grafico1"></canvas>
      <canvas id="grafico2"></canvas>
      <canvas id="grafico3"></canvas>
      <canvas id="grafico4"></canvas>
      <canvas id="grafico5"></canvas>
      <canvas id="grafico6"></canvas>
      <canvas id="grafico7"></canvas>
    </div>

    <h2>Conclusão</h2>
    <p>Com base nos dados, muitos estudantes reconhecem o desperdício como um problema e demonstram interesse em mudanças. Concluímos que a educação alimentar e o envolvimento em ações práticas podem ser eficazes para minimizar o problema.</p>

    <h2>Anexos</h2>
    <div class="qrcode">
      <img src="/mnt/data/7f2480c8-6cc3-415b-924c-3d37caf8433d.png" alt="QR Code do Formulário">
    </div>
  </div>

  <footer>
    <p>&copy; 2025 - Feira de Ciências | EEMTI Deputado Paulo Benevides</p>
  </footer>

  <script>
    const dados = {
      grafico1: [5, 30, 10],
      grafico2: [50, 20, 30, 15, 10],
      grafico3: [70, 10, 20],
      grafico4: [40, 30, 20, 5, 5],
      grafico5: [100, 0, 0, 0],
      grafico6: [30, 20, 25, 25],
      grafico7: [80, 10, 10]
    };

    function total(dados) {
      return dados.reduce((a, b) => a + b, 0);
    }

    function criarPizza(id, labels, data, cores) {
      const totalRespostas = total(data);
      new Chart(document.getElementById(id).getContext('2d'), {
        type: 'pie',
        data: {
          labels: labels.map((l, i) => `${l} (${((data[i] / totalRespostas) * 100).toFixed(1)}%)`),
          datasets: [{ data: data, backgroundColor: cores }]
        },
        options: {
          plugins: {
            legend: { position: 'bottom' },
            tooltip: {
              callbacks: {
                label: function(ctx) {
                  return `${ctx.label}: ${ctx.raw} respostas`;
                }
              }
            }
          }
        }
      });
    }

    function toggleMode() {
      document.body.classList.toggle('dark-mode');
    }

    criarPizza('grafico1', ['Sim', 'Não', 'Não me lembro'], dados.grafico1, ['#4caf50', '#e53935', '#ffb300']);
    new Chart(document.getElementById('grafico2').getContext('2d'), {
      type: 'bar',
      data: {
        labels: [
          'Escolher quantidade',
          'Melhorar cardápio',
          'Campanhas educativas',
          'Conversar com merendeiras',
          'Monitorar sobras'
        ],
        datasets: [{
          label: 'Número de votos',
          data: dados.grafico2,
          backgroundColor: '#43a047'
        }]
      },
      options: {
        indexAxis: 'y',
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: function(ctx) {
                return `${ctx.label}: ${ctx.raw} votos`;
              }
            }
          }
        }
      }
    });
    criarPizza('grafico3', ['Sim', 'Não', 'Talvez'], dados.grafico3, ['#4caf50', '#ff9800', '#9c27b0']);
    criarPizza('grafico4', ['Sempre', 'Quase sempre', 'Às vezes', 'Raramente', 'Nunca'], dados.grafico4, ['#4caf50', '#81c784', '#ffee58', '#ffb74d', '#e57373']);
    criarPizza('grafico5', ['Todos os dias', 'Algumas vezes por semana', 'Quase nunca', 'Nunca percebi'], dados.grafico5, ['#f44336', '#2196f3', '#ffeb3b', '#9e9e9e']);
    criarPizza('grafico6', ['Não gosto do alimento', 'Estava mal preparada', 'Peguei mais do que precisava', 'Não estava com fome'], dados.grafico6, ['#e53935', '#fb8c00', '#fdd835', '#43a047']);
    criarPizza('grafico7', ['Sim, está boa', 'Não, é demais', 'Não, é pouca comida'], dados.grafico7, ['#4caf50', '#ff5722', '#ffc107']);
  </script>
</body>
</html>
